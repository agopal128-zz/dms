"use strict";define(["angularAMD"],function(t){t.directive("metricGraph",function(){return{restrict:"E",template:"<div></div>",scope:{chartData:"=value",chartObj:"=?",page:"="},transclude:!0,replace:!0,link:function(t,a,i){t.$watch("chartData",function(i){if(i&&t.chartData.series){if(t.chartData.xAxis&&t.chartData.xAxis.trackingMethode)var e="daily"==t.chartData.xAxis.trackingMethode?"Day: ":"Month: ";var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n={chart:{type:"area",marginLeft:65,marginRight:1,marginBottom:40,plotBackgroundColor:"#FFF",backgroundColor:"transparent",plotBorderWidth:1,plotBorderColor:"#CCC",animation:!1,renderTo:a[0]},legend:{enabled:!0,align:"right",verticalAlign:"top",layout:"horizontal",backgroundColor:"transparent",borderWidth:0,symbolHeight:20,symbolWidth:20},title:{text:""},credits:{enabled:!1},xAxis:{min:0,categories:[],title:{margin:0,style:{fontWeight:"normal"}},tickInterval:1,tickmarkPlacement:"on",gridLineWidth:1,gridLineColor:"#bbb",alternateGridColor:"#FFF",gridZIndex:1,startOnTick:!0,endOnTick:!1,minPadding:0,maxPadding:0,lineWidth:1},yAxis:{title:{margin:10,text:"Target",style:{fontWeight:"normal"}},labels:{formatter:function(){return this.value},style:{fontSize:13,color:"#333",fontFamily:"Calibri",fontWeight:500}},gridLineWidth:1,gridLineColor:"#ddd",lineWidth:1,tickInterval:10},plotOptions:{series:{states:{hover:""}},area:{marker:{enabled:!0,symbol:"circle",radius:4,lineWidth:2,lineColor:"#FFF",states:{hover:{enabled:!0}}}}},series:[{animation:!1,fillOpacity:.4,name:"Actual",color:"#5F8605",data:[],connectNulls:!0},{animation:!1,fillOpacity:.4,name:"Stretch Goal",color:"#61DDD3",data:[],connectNulls:!0},{animation:!1,fillOpacity:.4,name:"Goal",color:"#31ABEA",data:[],connectNulls:!0}]};n.series[0].data=t.chartData.series[2].data,n.series[2].data=t.chartData.series[0].data,n.series[1].data=t.chartData.series[1].data,n.yAxis.min=t.chartData.yAxis.min,n.yAxis.max=t.chartData.yAxis.max,n.xAxis.categories=t.chartData.xAxis.categories,n.yAxis.title.align="high",n.yAxis.title.offset=-15,n.yAxis.title.rotation=0,n.yAxis.title.y=-10,n.xAxis.min=n.xAxis.min,n.xAxis.max=t.chartData.xAxis.max,n.xAxis.labels={rotation:0,formatter:function(){return t.chartData.xAxis&&t.chartData.xAxis.trackingMethode&&"daily"==t.chartData.xAxis.trackingMethode?this.value:r[this.value-1]},style:{fontSize:13,color:"#333",fontFamily:"Calibri",fontWeight:500}},n.tooltip={formatter:function(){return t.chartData.xAxis&&t.chartData.xAxis.trackingMethode&&"daily"==t.chartData.xAxis.trackingMethode?e+this.x+"<br>"+this.series.name+": "+this.y:e+r[this.x-1]+"<br>"+this.series.name+": "+this.y}},t.chartData.xAxis&&t.chartData.xAxis.trackingMethode&&(n.xAxis.title.text="daily"==t.chartData.xAxis.trackingMethode?"Days":"Months"),"scorecard"==t.page&&(n.tooltip.enabled=!1,n.tooltip.formatter="",n.plotOptions.area.marker.states.hover.enabled=!1,n.legend.enabled=!1,n.chart.marginLeft=45,n.chart.marginRight=10,n.chart.marginBottom=40,n.chart.marginTop=20,n.plotOptions.area.marker.enabled=!1,n.plotOptions.series.states.hover=!1,n.xAxis.labels={formatter:function(){return this.value},style:{fontSize:13,color:"#333",fontFamily:"Calibri",fontWeight:500}},n.yAxis.labels={formatter:function(){return this.value>=n.yAxis.max||this.value<=n.yAxis.min?this.value:null},style:{fontSize:13,color:"#333",fontFamily:"Calibri",fontWeight:500}}),t.chartObj=new Highcharts.Chart(n)}},!0)}}})});